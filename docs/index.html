

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cloudera.cloud Ansible Collection &mdash; cloudera.cloud 1.4.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/width.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="account_auth – Gather and set authentication details for a CDP Account" href="account_auth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> cloudera.cloud
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Module APIs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account_auth.html">account_auth</a></li>
<li class="toctree-l1"><a class="reference internal" href="account_auth_info.html">account_auth_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="account_cred_info.html">account_cred_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="datalake.html">datalake</a></li>
<li class="toctree-l1"><a class="reference internal" href="datalake_info.html">datalake_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="datalake_runtime_info.html">datalake_runtime_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="datahub_cluster.html">datahub_cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="datahub_cluster_info.html">datahub_cluster_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="datahub_definition_info.html">datahub_definition_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="datahub_template_info.html">datahub_template_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="df.html">df</a></li>
<li class="toctree-l1"><a class="reference internal" href="df_info.html">df_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="dw_cluster.html">dw_cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="dw_cluster_info.html">dw_cluster_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env.html">env</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_auth.html">env_auth</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_auth_info.html">env_auth_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_cred.html">env_cred</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_cred_info.html">env_cred_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_idbroker.html">env_idbroker</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_idbroker_info.html">env_idbroker_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_info.html">env_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_proxy.html">env_proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_proxy_info.html">env_proxy_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_telemetry.html">env_telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_user_sync.html">env_user_sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_user_sync_info.html">env_user_sync_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="freeipa_info.html">freeipa_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="iam_group.html">iam_group</a></li>
<li class="toctree-l1"><a class="reference internal" href="iam_group_info.html">iam_group_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="iam_resource_role_info.html">iam_resource_role_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="iam_user_info.html">iam_user_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml.html">ml</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml_info.html">ml_info</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml_workspace_access.html">ml_workspace_access</a></li>
<li class="toctree-l1"><a class="reference internal" href="opdb.html">opdb</a></li>
<li class="toctree-l1"><a class="reference internal" href="opdb_info.html">opdb_info</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">cloudera.cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>cloudera.cloud Ansible Collection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cloudera-cloud-ansible-collection">
<h1>cloudera.cloud Ansible Collection<a class="headerlink" href="#cloudera-cloud-ansible-collection" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This repository hosts the <code class="docutils literal notranslate"><span class="pre">cloudera.cloud</span></code> Ansible collection. The collection includes modules and other Ansible
assets to help automate the provisioning and use of Cloudera Data Platform (CDP) experiences, datalakes, and
environments as well as the management of CDP users, groups, and credentials.</p>
<p>For details on the Cloudera Data Platform management console, please see the online documentation for the <a class="reference external" href="https://docs.cloudera.com/management-console/cloud/index.html">Cloudera
Management Console</a>.</p>
</div>
<div class="section" id="installation-and-usage">
<h1>Installation and Usage<a class="headerlink" href="#installation-and-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements-for-running-the-collection">
<h2>Requirements for running the collection<a class="headerlink" href="#requirements-for-running-the-collection" title="Permalink to this headline">¶</a></h2>
<p>The CDP collection requires the <a class="reference external" href="https://github.com/cloudera-labs/cdpy">cdpy</a> Python library, which is a simple Pythonic wrapper to the
<a class="reference external" href="https://pypi.org/project/cdpcli/">CDP CLI/SDK</a> Python library. You also need to have an <a class="reference external" href="https://docs.cloudera.com/management-console/cloud/user-management/topics/mc-generating-an-api-access-key.html">API access key</a> for your CDP
account. The collection also assumes that you have provisioned the necessary cloud provider resources used by the
various CDP functions (see <a class="reference external" href="https://docs.cloudera.com/management-console/cloud/requirements-aws/topics/mc-requirements-aws.html">AWS Requirements</a> and <a class="reference external" href="https://docs.cloudera.com/management-console/cloud/requirements-azure/topics/mc-azure-requirements.html">Azure Requirements</a>);
this collection will not provision these cloud resources.</p>
</div>
<div class="section" id="installing-the-collection-from-github">
<h2>Installing the collection from GitHub<a class="headerlink" href="#installing-the-collection-from-github" title="Permalink to this headline">¶</a></h2>
<p>Before using the CDP collection, you must install it with the <a class="reference external" href="https://docs.ansible.com/ansible/latest/cli/ansible-galaxy.html">Ansible Galaxy CLI</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-galaxy collection install git+https://github.com/cloudera-labs/cloudera.cloud.git,main
</pre></div>
</div>
<p>You can also include it in a <code class="docutils literal notranslate"><span class="pre">requirements.yml</span></code> file and install it via <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">-r</span>
<span class="pre">requirements.yml</span></code>, using the format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">collections</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/cloudera-labs/cloudera.cloud.git</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
    <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-the-cdpy-python-library">
<h2>Installing the cdpy Python library<a class="headerlink" href="#installing-the-cdpy-python-library" title="Permalink to this headline">¶</a></h2>
<p>This collection requires the <a class="reference external" href="https://github.com/cloudera-labs/cdpy">cdpy</a> to interact with the CDP endpoint APIs. You can install it
using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install cdpy
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file declares this library. You can install it via <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
</div>
<div class="section" id="using-the-collection-in-your-playbooks">
<h2>Using the collection in your playbooks<a class="headerlink" href="#using-the-collection-in-your-playbooks" title="Permalink to this headline">¶</a></h2>
<p>The best practice for using the content in the collection is to reference the Fully Qualified Collection Namespace
(FQCN), for example <code class="docutils literal notranslate"><span class="pre">cloudera.cloud.env_info</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">hosts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">connection</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
  <span class="nt">gather_facts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>

  <span class="nt">tasks</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">List all CDP environments</span>
      <span class="nt">cloudera.cloud.env_info</span><span class="p">:</span>
      <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">output</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Debug the results</span>
      <span class="nt">debug</span><span class="p">:</span>
        <span class="nt">var</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">output</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ensure the example environment exists on AWS</span>
      <span class="nt">cloudera.cloud.env</span><span class="p">:</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-environment</span>
        <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
        <span class="nt">credential</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-credential</span>
        <span class="nt">cloud</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws</span>
        <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
        <span class="nt">log_location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3a://example-bucket/datalake/logs</span>
        <span class="nt">log_identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::981304421142:instance-profile/example-log-role</span>
        <span class="nt">public_key_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-sshkey</span>
        <span class="nt">network_cidr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.0.0/16</span>
        <span class="nt">inbound_cidr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0/0</span>
        <span class="nt">tags</span><span class="p">:</span>
          <span class="nt">project</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Example environment</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing-and-development">
<h1>Testing and Development<a class="headerlink" href="#testing-and-development" title="Permalink to this headline">¶</a></h1>
<p>To work on this collection, the best practice and easiest way is to clone the repository into one of your configured
<code class="docutils literal notranslate"><span class="pre">COLLECTION_PATHS</span></code> and manage development from there.</p>
</div>
<div class="section" id="more-information">
<h1>More Information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h1>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="account_auth.html" class="btn btn-neutral float-right" title="account_auth – Gather and set authentication details for a CDP Account" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Cloudera

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>